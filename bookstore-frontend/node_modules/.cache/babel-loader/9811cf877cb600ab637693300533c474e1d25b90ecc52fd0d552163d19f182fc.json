{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Orders(){const[orders,setOrders]=useState([]);const userId=localStorage.getItem(\"userId\");useEffect(()=>{if(!userId)return;axios.get(\"/api/orders/\".concat(userId)).then(res=>setOrders(res.data)).catch(err=>{console.error(\"Failed to load orders:\",err);alert(\"Could not fetch your orders. Please make sure you're logged in.\");});},[userId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Orders\"}),orders.length>0?orders.map(o=>{var _o$totalAmount;return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Order #\",o.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",new Date(o.orderDate).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \\u20B9\",(_o$totalAmount=o.totalAmount)===null||_o$totalAmount===void 0?void 0:_o$totalAmount.toFixed(2)]}),/*#__PURE__*/_jsx(\"ul\",{children:o.items.map(it=>/*#__PURE__*/_jsxs(\"li\",{children:[it.book.title,\" \\xD7 \",it.quantity]},it.id))})]})},o.id);}):/*#__PURE__*/_jsx(\"p\",{children:\"No orders found.\"})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Orders","orders","setOrders","userId","localStorage","getItem","get","concat","then","res","data","catch","err","console","error","alert","children","length","map","o","_o$totalAmount","className","id","Date","orderDate","toLocaleString","totalAmount","toFixed","items","it","book","title","quantity"],"sources":["C:/Users/sri/Downloads/bookstore-fullstack/bookstore-frontend/src/components/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const userId = localStorage.getItem(\"userId\");\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    axios.get(`/api/orders/${userId}`)\r\n      .then(res => setOrders(res.data))\r\n      .catch(err => {\r\n        console.error(\"Failed to load orders:\", err);\r\n        alert(\"Could not fetch your orders. Please make sure you're logged in.\");\r\n      });\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>My Orders</h2>\r\n      {orders.length > 0 ? (\r\n        orders.map(o => (\r\n          <div key={o.id} className=\"card mb-3\">\r\n            <div className=\"card-body\">\r\n              <h5>Order #{o.id}</h5>\r\n              <p>Date: {new Date(o.orderDate).toLocaleString()}</p>\r\n              <p>Total: ₹{o.totalAmount?.toFixed(2)}</p>\r\n              <ul>\r\n                {o.items.map(it => (\r\n                  <li key={it.id}>{it.book.title} × {it.quantity}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>No orders found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAAS,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAE7CZ,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,MAAM,CAAE,OAEbR,KAAK,CAACW,GAAG,gBAAAC,MAAA,CAAgBJ,MAAM,CAAE,CAAC,CAC/BK,IAAI,CAACC,GAAG,EAAIP,SAAS,CAACO,GAAG,CAACC,IAAI,CAAC,CAAC,CAChCC,KAAK,CAACC,GAAG,EAAI,CACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEF,GAAG,CAAC,CAC5CG,KAAK,CAAC,iEAAiE,CAAC,CAC1E,CAAC,CAAC,CACN,CAAC,CAAE,CAACZ,MAAM,CAAC,CAAC,CAEZ,mBACEJ,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,WAAS,CAAI,CAAC,CACjBf,MAAM,CAACgB,MAAM,CAAG,CAAC,CAChBhB,MAAM,CAACiB,GAAG,CAACC,CAAC,OAAAC,cAAA,oBACVvB,IAAA,QAAgBwB,SAAS,CAAC,WAAW,CAAAL,QAAA,cACnCjB,KAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAL,QAAA,eACxBjB,KAAA,OAAAiB,QAAA,EAAI,SAAO,CAACG,CAAC,CAACG,EAAE,EAAK,CAAC,cACtBvB,KAAA,MAAAiB,QAAA,EAAG,QAAM,CAAC,GAAI,CAAAO,IAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EAAI,CAAC,cACrD1B,KAAA,MAAAiB,QAAA,EAAG,eAAQ,EAAAI,cAAA,CAACD,CAAC,CAACO,WAAW,UAAAN,cAAA,iBAAbA,cAAA,CAAeO,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cAC1C9B,IAAA,OAAAmB,QAAA,CACGG,CAAC,CAACS,KAAK,CAACV,GAAG,CAACW,EAAE,eACb9B,KAAA,OAAAiB,QAAA,EAAiBa,EAAE,CAACC,IAAI,CAACC,KAAK,CAAC,QAAG,CAACF,EAAE,CAACG,QAAQ,GAArCH,EAAE,CAACP,EAAuC,CACpD,CAAC,CACA,CAAC,EACF,CAAC,EAVEH,CAAC,CAACG,EAWP,CAAC,EACP,CAAC,cAEFzB,IAAA,MAAAmB,QAAA,CAAG,kBAAgB,CAAG,CACvB,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}