{"ast":null,"code":"import _objectSpread from\"C:/Users/sri/Downloads/bookstore-fullstack/bookstore-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdateBook(){const{id}=useParams();const navigate=useNavigate();const[book,setBook]=useState({title:\"\",author:\"\",isbn:\"\",price:\"\",stock:\"\",category:\"\",imageUrl:\"\",description:\"\"});useEffect(()=>{axios.get(\"/api/books/\".concat(id)).then(res=>setBook(res.data)).catch(err=>{console.error(\"Failed to load book:\",err);alert(\"Error fetching book details\");});},[id]);const handleChange=e=>{const{name,value}=e.target;setBook(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();axios.put(\"/api/books/\".concat(id),book).then(()=>{alert(\"Book updated successfully!\");navigate(\"/admin/manage-books\");}).catch(err=>{console.error(\"Update failed:\",err);alert(\"Failed to update book.\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u270F\\uFE0F Update Book\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[Object.entries(book).map(_ref=>{let[field,value]=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{type:field===\"price\"||field===\"stock\"?\"number\":\"text\",name:field,value:value,onChange:handleChange,className:\"form-control\",placeholder:field.charAt(0).toUpperCase()+field.slice(1)})},field);}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2\",children:\"Save Changes\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdateBook","id","navigate","book","setBook","title","author","isbn","price","stock","category","imageUrl","description","get","concat","then","res","data","catch","err","console","error","alert","handleChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","put","className","children","onSubmit","Object","entries","map","_ref","field","type","onChange","placeholder","charAt","toUpperCase","slice"],"sources":["C:/Users/sri/Downloads/bookstore-fullstack/bookstore-frontend/src/components/UpdateBook.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nexport default function UpdateBook() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [book, setBook] = useState({\r\n    title: \"\",\r\n    author: \"\",\r\n    isbn: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    category: \"\",\r\n    imageUrl: \"\",\r\n    description: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get(`/api/books/${id}`)\r\n      .then(res => setBook(res.data))\r\n      .catch(err => {\r\n        console.error(\"Failed to load book:\", err);\r\n        alert(\"Error fetching book details\");\r\n      });\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setBook(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios.put(`/api/books/${id}`, book)\r\n      .then(() => {\r\n        alert(\"Book updated successfully!\");\r\n        navigate(\"/admin/manage-books\");\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Update failed:\", err);\r\n        alert(\"Failed to update book.\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>✏️ Update Book</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {Object.entries(book).map(([field, value]) => (\r\n          <div key={field} className=\"mb-2\">\r\n            <input\r\n              type={field === \"price\" || field === \"stock\" ? \"number\" : \"text\"}\r\n              name={field}\r\n              value={value}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder={field.charAt(0).toUpperCase() + field.slice(1)}\r\n            />\r\n          </div>\r\n        ))}\r\n        <button className=\"btn btn-primary mt-2\">Save Changes</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}