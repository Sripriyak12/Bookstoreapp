{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sri\\\\Downloads\\\\Bookstoreapp-master\\\\Bookstoreapp-master\\\\bookstore-frontend\\\\src\\\\components\\\\SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchResults() {\n  _s();\n  var _queryParams$get;\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const searchTerm = ((_queryParams$get = queryParams.get('q')) === null || _queryParams$get === void 0 ? void 0 : _queryParams$get.toLowerCase()) || '';\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const userId = 1; // Replace with dynamic user ID logic if needed\n\n  useEffect(() => {\n    axios.get('/api/books').then(res => {\n      setBooks(res.data);\n      setLoading(false);\n    }).catch(() => {\n      setBooks([]);\n      setLoading(false);\n    });\n  }, []);\n  const filteredBooks = searchTerm ? books.filter(book => book.title.toLowerCase().includes(searchTerm)) : books;\n  const addToCart = bookId => {\n    axios.post(`/api/cart/${userId}/add/${bookId}`).then(() => alert('Book added to cart!')).catch(() => alert('Failed to add book to cart.'));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: searchTerm ? `Search Results for \"${searchTerm}\"` : 'All Books'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading books...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : filteredBooks.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card h-100 shadow\",\n          children: [book.coverImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: book.coverImage,\n            className: \"card-img-top\",\n            alt: book.title,\n            style: {\n              height: '250px',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-img-top bg-secondary d-flex align-items-center justify-content-center text-white\",\n            style: {\n              height: '250px'\n            },\n            children: \"No Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body d-flex flex-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"by \", book.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text text-success\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"\\u20B9\", book.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary mt-auto\",\n              onClick: () => addToCart(book.id),\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)\n      }, book.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No books found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchResults, \"w2QYERJIprETUEcjXOlf/E0DvRc=\", false, function () {\n  return [useLocation];\n});\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","axios","jsxDEV","_jsxDEV","SearchResults","_s","_queryParams$get","location","queryParams","URLSearchParams","search","searchTerm","get","toLowerCase","books","setBooks","loading","setLoading","userId","then","res","data","catch","filteredBooks","filter","book","title","includes","addToCart","bookId","post","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","coverImage","src","alt","style","height","objectFit","author","price","onClick","id","_c","$RefreshReg$"],"sources":["C:/Users/sri/Downloads/Bookstoreapp-master/Bookstoreapp-master/bookstore-frontend/src/components/SearchResults.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction SearchResults() {\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const searchTerm = queryParams.get('q')?.toLowerCase() || '';\r\n\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const userId = 1; // Replace with dynamic user ID logic if needed\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/books')\r\n      .then((res) => {\r\n        setBooks(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setBooks([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const filteredBooks = searchTerm\r\n    ? books.filter(book =>\r\n        book.title.toLowerCase().includes(searchTerm)\r\n      )\r\n    : books;\r\n\r\n  const addToCart = (bookId) => {\r\n    axios.post(`/api/cart/${userId}/add/${bookId}`)\r\n      .then(() => alert('Book added to cart!'))\r\n      .catch(() => alert('Failed to add book to cart.'));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2 className=\"mb-4\">\r\n        {searchTerm ? `Search Results for \"${searchTerm}\"` : 'All Books'}\r\n      </h2>\r\n\r\n      {loading ? (\r\n        <p>Loading books...</p>\r\n      ) : filteredBooks.length > 0 ? (\r\n        <div className=\"row\">\r\n          {filteredBooks.map((book) => (\r\n            <div className=\"col-md-4 mb-4\" key={book.id}>\r\n              <div className=\"card h-100 shadow\">\r\n                {book.coverImage ? (\r\n                  <img\r\n                    src={book.coverImage}\r\n                    className=\"card-img-top\"\r\n                    alt={book.title}\r\n                    style={{ height: '250px', objectFit: 'cover' }}\r\n                  />\r\n                ) : (\r\n                  <div\r\n                    className=\"card-img-top bg-secondary d-flex align-items-center justify-content-center text-white\"\r\n                    style={{ height: '250px' }}\r\n                  >\r\n                    No Image\r\n                  </div>\r\n                )}\r\n                <div className=\"card-body d-flex flex-column\">\r\n                  <h5 className=\"card-title\">{book.title}</h5>\r\n                  <p className=\"card-text\">by {book.author}</p>\r\n                  <p className=\"card-text text-success\"><strong>â‚¹{book.price}</strong></p>\r\n                  <button\r\n                    className=\"btn btn-primary mt-auto\"\r\n                    onClick={() => addToCart(book.id)}\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>No books found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}